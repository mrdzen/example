# Демо - обработка прайс листов поставщиков

Задача: импорт ценников от поставщиков. Количество поставщиков у каждого магазина 1-2 до 10. Общее количество аквтиных магазинов - около 1000. Каждый импортируемыей файл от 10МБ до 50Мб. Обновление один-два раза в день.
   
Постановка в очередь:  
 
```php 
// Отправляем задачу на обработку в очередь 
dispatch(new \App\Jobs\ImportPriceList(
    // путь к загруженному прайс-листу 
    new SplFileInfo(storage_path('app/goods/SOME_PRICE_16-02-2018_18-00_1.csv')),
    // код поставщика
    \App\Constants::SOME_PROVIDER_MOTORS,
    // ID пользовательского магазина (у одного пользователя может быть несколько магазинов) 
    $shop->id
));
```



